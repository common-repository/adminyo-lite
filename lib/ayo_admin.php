<?php/* Setup the admin pages/sub-pages */function ayo_plugin_top_menu(){  global $ayo_options;  $icosvgg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzVweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzUgMzAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDM1IDMwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGlkPSJpY28tYXlvIiBmaWxsPSIjOUNBMUE2IiBkPSJNMjMuNTU0LDExLjgwM2MtMS4zMTIsMC0yLjM3MiwxLjQ3LTIuMzcyLDMuMjgzYzAsMS44MTQsMS4wNjEsMy4yODQsMi4zNzIsMy4yODQNCgkJYzEuMzA1LDAsMi4zNjUtMS40NywyLjM2NS0zLjI4NEMyNS45MTksMTMuMjczLDI0Ljg1OCwxMS44MDMsMjMuNTU0LDExLjgwM3oiLz4NCgk8cGF0aCBpZD0iaWNvLWF5b18xXyIgZmlsbD0iIzlDQTFBNiIgZD0iTTExLjU5NywxMS44MDNjLTEuMzA4LDAtMi4zNjgsMS40Ny0yLjM2OCwzLjI4M2MwLDEuODE0LDEuMDYsMy4yODQsMi4zNjgsMy4yODQNCgkJYzEuMzEsMCwyLjM2OS0xLjQ3LDIuMzY5LTMuMjg0QzEzLjk2NSwxMy4yNzMsMTIuOTA2LDExLjgwMywxMS41OTcsMTEuODAzeiIvPg0KCTxwYXRoIGlkPSJpY28tYXlvXzJfIiBmaWxsPSIjOUNBMUE2IiBkPSJNMjkuNjUsMy44ODZ2Mi40OTFjLTIuNzAyLTMuNzIyLTcuMDcyLTYuMTUxLTEyLjAyMi02LjE1MQ0KCQljLTUuMTAzLDAtOS42MDIsMi41NzQtMTIuMjc3LDYuNDkxVjMuODg2Yy0zLjEyMiwyLjcyNC01LjEsNi43My01LjEsMTEuMnMxLjk3OCw4LjQ3NCw1LjEsMTEuMnYtMi44Mw0KCQljMi42NzYsMy45MTcsNy4xNzUsNi40ODksMTIuMjc3LDYuNDg5YzQuOTUsMCw5LjMyLTIuNDI4LDEyLjAyMi02LjE0OXYyLjQ5YzMuMTIxLTIuNzI3LDUuMDk5LTYuNzMsNS4wOTktMTEuMg0KCQlTMzIuNzcxLDYuNjEsMjkuNjUsMy44ODZ6IE0xNy42MjgsMjYuOTMxYy02LjU0MywwLTExLjg0NS01LjMwMy0xMS44NDUtMTEuODQ1YzAtNi41NDEsNS4zMDItMTEuODQ0LDExLjg0NS0xMS44NDQNCgkJYzYuNTQxLDAsMTEuODQ1LDUuMzA0LDExLjg0NSwxMS44NDRDMjkuNDczLDIxLjYyOCwyNC4xNjksMjYuOTMxLDE3LjYyOCwyNi45MzF6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==';      add_menu_page('Adminyo settings','Adminyo','manage_options', __FILE__, 'ayo_render_plugin_page', $icosvgg);};add_action('admin_menu','ayo_plugin_top_menu');/* Registering the plugin settings */function ayo_register_settings(){    register_setting('ayo_settings_group','ayo_settings');    //  register_setting('ayo_drag_group','ayo_drag_settings');  }add_action('admin_init','ayo_register_settings');/* Rendering the MAIN admin page  */function ayo_render_plugin_page(){  global $ayo_options; // init variabile//$checked = $ayo_options['enable_posts'];?><style>#wpbody-content {    padding-bottom: 65px;    float: left;    width: 100%;    overflow: visible!important;    background: #104977 !important;}#wpfooter{    background: #104977 !important;}</style><body bgColor="#F9F9F9"><!---Header settings ---><div class="top-bg">  <div class="skewed-bg">    <div id="ayo-general">      <div id="logo-text">        <div id="logo">          <img src="<?php echo AdminYo_dirURL . 'img/admin/logo-adminyo-white.png';?>" alt="" title="" border=0 style="max-height: 100px;">        </div><!-- /The popup -->  <!-- The link  <a class="model_link" href="#">Click for the popup!</a> --><!--Logo text -->      <div id="text-intro">          If you like <b>adminyo</b> and believe that these tools are helping you, please leave us a feedback. It’s important for us to understand your workflow so we can develop further and continuously add new tools to help improve your experience with the WordPress admin. Also you can leave a 5★ rating :).<br><br><b>Thank you from adminyo team and namaste!</b>&nbsp;&nbsp;-&nbsp;&nbsp;          <a class="model_link" style="color: white;" href="http://codecanyon.net/item/adminyo-intelligent-wordpress-admin/14784440/comments" target="_blank"><b>Support</b></a>&nbsp;&nbsp;-&nbsp;&nbsp;          <a class="model_link" href="https://adminyo.com/#contact" target="_blank" style="color: white;"><b>Contact</b></a>&nbsp;&nbsp;-&nbsp;&nbsp;          <a class="model_link" href="http://support.adminyo.com/" target="_blank" style="color: white;"><b>WIKI</b></a>        <div class="display-version"><?php global $ayo_version; printf("Current Version: "); echo $ayo_version;?>          &nbsp;&nbsp;-&nbsp;&nbsp;<a href="<?php echo admin_url();?>admin.php?page=adminyo-lite/lib/ayo_changes.php" target="_blank" style="color: white;"><b>What’s New</b></a>        </div>      </div>    </div> <!-- END - id="logo-text" --><div><!-- Starting the form action method --><form method="post" action="options.php"><?php settings_fields('ayo_settings_group');?>  <p class="submit">    <input type="submit" class="button-primary" value="<?php _e('Save Options','ayo_domain');?>" />  </p></div><div class="boxes-row"><!-- Start ALL CARDS --><!-- Pin to DashBoard CARD-->  <div class="box-ayo-settings">    <div class="card2">  <!--  <span class="admin-pin-card">-->      <div class="card-header ayo-pin-to-dashboard" style="color: #FFF">        <h2>Pins to Dashboard </h2>          <div class="line-pin-to-dashboard"></div>          <div class="h7">Easily create shortcuts of your post types to Dashboard &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>      </div>      <div class="card-container-ayo-pin-to-dashboard transition">        <div class="ayo-content-card"><!-- Pins filter -->        <p>Pins Columns          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png' ?>" style="max-width: 12px; margin-bottom: 2px;" title='In every Custom Post Types (e.g. Posts, Pages, Products) listings page you will find at the right side a new column named Pins. This is the first way you can Trigger or Disable any of the Posts, Pages, Products you’ve pinned.'>          </img>          <label class="toggleSwitch nolabel" for="ayo_settings[pins_filter]"><?php _e('', 'ayo_domain');?>          <input id="ayo_settings[pins_filter]" name="ayo_settings[pins_filter]" type="checkbox" value="1" <?php checked('1',$ayo_options['pins_filter']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p><!-- Welcome Panel enabler-->        <p>Remove Welcome Links          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Clean the Default Welcome Panel Links if you are not using them. This way you will enjoy a clean Pin Zone.'>          </img>          <label class="toggleSwitch nolabel" for="ayo_settings[welcome_panel]"><?php _e('', 'ayo_domain');?>          <input id="ayo_settings[welcome_panel]" name="ayo_settings[welcome_panel]" type="checkbox" value="1" <?php checked('1',$ayo_options['welcome_panel']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p><!-- Pins Re-order -->        <p>Order Your Pins          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='This option lets you re-order your pins from the dashboard.'>          </img>        <label class="pro_only">PRO</label>        </p><!-- Pins Admin bar -->        <p>Admin Bar Pins          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='This option will create a nice admin bar menu with a list of your pinned items so you can access them from anywhere, even from Front-end.'>          </img>          <label class="pro_only">PRO</label>        </p><!-- Ignore -->        <p hidden>          <label  class="toggleSwitch nolabel" for="ayo_settings[ignore_this]"><?php _e('', 'ayo_domain');?>          <input  id="ayo_settings[ignore_this]" name="ayo_settings[ignore_this]" type="checkbox" value="1" <?php checked('1',$ayo_options['ignore_this']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p>        <p hidden>          <label  class="toggleSwitch nolabel" for="ayo_settings[enabled_costom_post]"><?php _e('', 'ayo_domain');?>          <input  id="ayo_settings[enabled_costom_post]" name="ayo_settings[enabled_costom_post]" type="checkbox" value="1" <?php checked('1',$ayo_options['enabled_costom_post']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p>      </div> <!-- END - div class="ayo-content-card" -->    </div> <!-- END - div class="card-container-ayo-pin-to-dashboard transition" -->  </div> <!-- END - div class="card2" --></div> <!-- END - div class="box-ayo-settings" --><!--End of the Pin to Dashboard card --><!-- General Search CARD-->  <div class="box-ayo-settings">    <div class="card2">      <div class="card-header ayo-search" style="color: #FFF">        <h2>Quick Search</h2>          <div class="line-ayo-search"></div>          <div class="h7">HyperSpeed access to all of your Posts, Pages or Products  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>      </div>      <div id="card_scroll">    <div class="card-container-ayo-search transition"><!-- style="overflow:scroll;"-->      <div id="inner-content-div">      <div class="ayo-content-card-quick-search" ><!--Make the search follow the screen-->        <p>Make Quick Search float          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='For a busy modus operandi trigger (Toggle “Make search float” from Off to On). Make search float for the search bar to be displayed ready at hand at all times.'>          </img><label class="pro_only">PRO</label>        </p><!--Make the search toggle-->        <p>Toggle Search & (ctrl+Q)          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='This option will make search bar hidden by default, but you can toggle it on / off by clicking on the Toggle Q-Search button from the admin menu or simply use the CTRL + Q keyboard combination. It is also focused on the search field by default once you open it so you can instantly start typing.'>          </img><label class="pro_only">PRO</label>        </p><!--Search inside your:--><p><b>Search inside your:</b></p><!-- Enable posts -->        <p>Posts          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png' ?>" style="max-width: 12px; margin-bottom: 2px;" title='Quick Search inside your Posts'>          </img>          <label  class="toggleSwitch nolabel" for="ayo_settings[enable_posts]"><?php _e('', 'ayo_domain');?>          <input  id="ayo_settings[enable_posts]" name="ayo_settings[enable_posts]" type="checkbox" value="1" <?php checked('1',$ayo_options['enable_posts']);?> />          <span><span>OFF</span><span>ON</span> </span></label>        </p><!--Enable pages -->        <p>Pages          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png' ?>" style="max-width: 12px; margin-bottom: 2px;" title='Quick Search inside your Pages'>          </img>          <label class="toggleSwitch nolabel" for="ayo_settings[enable_pages]"><?php _e('', 'ayo_domain');?>          <input id="ayo_settings[enable_pages]" name="ayo_settings[enable_pages]" type="checkbox" value="1" <?php checked('1',$ayo_options['enable_pages']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p><!--Enable products --><?php if (class_exists('Woocommerce')) { ?>        <p>Products          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png' ?>" style="max-width: 12px; margin-bottom: 2px;" title='Quick Search inside your WooCommerce Products'>          </img>          <label class="toggleSwitch nolabel" for="ayo_settings[enable_produs]"><?php _e('', 'ayo_domain');?>          <input id="ayo_settings[enable_produs]" name="ayo_settings[enable_produs]" type="checkbox" value="1" <?php checked('1',$ayo_options['enable_produs']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p><?php } else {printf("You need to have WooCommerce installed to search for products");}?><!-- search inside comments --> <p>Comments          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Quick Search inside Comments.'>          </img><label class="pro_only">PRO</label>        </p><!-- search inside users -->         <p>Users          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Quick Search inside Users.'>          </img><label class="pro_only">PRO</label>        </p><!-- get post types --><p><b>Select your Custom Post Types:</b></p><p><?php  $i =0;          foreach ( get_post_types( '', 'names' ) as $post_type ) {            $name  = get_post_type_object($post_type)->labels->name;            $i++;            if (!in_array($post_type,array('post','page','product'))) {              ?>               <p><?php echo $name;?>          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Quick Search inside <?php echo $name;?>.'>          </img>        <label class="pro_only">PRO </label><br>        </p><?php  }}?></p><div id="cpt_result"></div><!-- create divs based on selection --><script>//$(document).ready(function($){var el = document.querySelector('#inner-content-div');Ps.initialize(el);//});</script>      </div>    </div>    </div>  </div></div></div><!--End of the General search card --><!--End first row --><!--Start second row --><!--Start of the left menu options card --><!--Start Floatable Action Card --><div class="box-ayo-settings">  <div class="card2">      <div class="card-header ayo-floating-action-button" style="color: #FFF">        <h2>Floating Action Button</h2>          <div class="line-ayo-floating-action-button"></div>          <div class="h7">Update, Preview, Pin your Posts, really easy, no mater the size of the Post</div>      </div>      <div class="card-container-ayo-drag-and-drop-pages transition">        <div class="ayo-content-card">        <p>Posts/Pages FAB          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Important actions at you finger tip, regardless of where you are in the postThe floating action button is located on the lower right side of the screen and it includes useful actions like: Page Update, Page Preview, Pin to Dashboard and Back to Top.'>          </img>          <label class="toggleSwitch nolabel" for="ayo_settings[menu_post_plus]"><?php _e('', 'ayo_domain');?>          <input id="ayo_settings[menu_post_plus]" name="ayo_settings[menu_post_plus]" type="checkbox" value="1" <?php checked('1',$ayo_options['menu_post_plus']);?> />          <span><span>OFF</span><span>ON</span> </span> </label>        </p><!--show after scroll-->        <p>Display After Scroll          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Make the Floating Action Button appear only after you scroll down the page.'>          </img>          <label class="pro_only">PRO </label>        </p><!--hold click-->        <p>Hold Click to Appear          <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Hold click to make the button appear.'>          </img>          <label class="pro_only">PRO </label>        </p>      </label>      </div>   </div> </div></div><!-- Extra Widgets CARD -->  <div class="box-ayo-settings">    <div class="card2">      <div class="card-header ayo-misc-tools" style="color: #FFF">        <h2> Misc. Tools </h2>          <div class="line-ayo-misc-tools"></div>          <div class="h7">More useful tools</div>          <br>      </div>      <div class="card-container-ayo-extra-widgets transition">        <div class="ayo-content-card"><!--Get back to dashboard hotkey-->      <p>Create Menu Hotkeys        <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='Use this option to create fast keyboard shortcuts to any of the Admin Menu links or from Admin menu bar. To create a shortcut simply click ALT and while holding the button click on the link you wish to save.After that a small popup will appear asking for youre key combination.'>        </img>        <label class="toggleSwitch nolabel" for="ayo_settings[hotkey_home]"><?php _e('', 'ayo_domain');?>        <input id="ayo_settings[hotkey_home]" name="ayo_settings[hotkey_home]" type="checkbox" value="1" <?php checked('1',$ayo_options['hotkey_home']);?> />        <span><span>OFF</span><span>ON</span> </span> </label>      </p><!--Save your post hotkey-->      <p>CTRL+S=Save anything        <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='This option will let you save anything /anywhere.Use it to update your settings instead of clicking on the update/save options button or save your progress on posts/pages/products etc. Long story short it emulates the click of the blue button on all WP pages.'>        </img>        <label class="pro_only">PRO</label>      </p><!--Auto-Collapse your menu-->                  <p>Auto-Collapse Menu                    <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png';?>" style="max-width: 12px; margin-bottom: 2px;" title='If you want your work space to be clean and your attention to be focused on your work area only you can toggle “Auto Collapse menu” from Off to On. This will collapse the menu on the left side when it’s not needed or you are not using it. The menu automatically expands when the mouse pointer is over it.'>                    </img>                      <label class="toggleSwitch nolabel" for="ayo_settings[menu_collapse]"><?php _e('', 'ayo_domain');?>                      <input id="ayo_settings[menu_collapse]" name="ayo_settings[menu_collapse]" type="checkbox" value="1" <?php checked('1',$ayo_options['menu_collapse']);?> />                      <span><span>OFF</span><span>ON</span> </span> </label>                  </p><!--Hide Menu-->                  <p>Hide Menu                    <img src="<?php echo AdminYo_dirURL . 'img/icons/info-icon.png' ?>" style="max-width: 12px; margin-bottom: 2px;" title='If you want your work space to be clean and your attention to be focused on your work area only you can toggle “Hide Admin Menu” from Off to On. This will hide the menu completely on the left side when it is not needed or it is not worked upon. it’s not needed or you are not using it. The menu automatically expands when the mouse pointer is over the left side of the browser.'>                    </img>                    <label class="toggleSwitch nolabel" for="ayo_settings[hide_menu]"><?php _e('', 'ayo_domain');?>                    <input id="ayo_settings[hide_menu]" name="ayo_settings[hide_menu]" type="checkbox" value="1" <?php checked('1',$ayo_options['hide_menu']);?> />                    <span><span>OFF</span><span>ON</span> </span> </label>                  </p>    </div>      </div>    </div>  </div><!-- End Second Row --></div><!-- END ALL CARDS --><!-- Bottom submit button --><p class="submit">  <input style="margin-top:30px" type="submit" class="button-primary" value="<?php _e('Save Options','ayo_domain');?>" /></p>    </form><!-- import/ export function--><div class="metabox-holder" style="margin-top: -51px;margin-left: 19px; color:#fff; font-size: 14px;">  <span class="exportbtn"><b>For a better portability you can easily Export and Import, Adminyo settings!</b></br></br><form method="post"> <input type="hidden" name="ayo_action" value="export_settings" />          <?php wp_nonce_field( 'ayo_export_nonce', 'ayo_export_nonce' ); ?>          <?php submit_button( __( 'Export' ), 'secondary', 'submit', false ); ?></form>   </span>   <span class="importbtn">						<form method="post" enctype="multipart/form-data" style="margin-top: -28px;margin-left: 68px;">					<input type="hidden" name="ayo_action" value="import_settings" />          	  <?php wp_nonce_field( 'ayo_import_nonce', 'ayo_import_nonce' ); ?>							<?php submit_button( __( 'Import' ), 'secondary', 'submit', false ); ?>						<input type="file" name="import_file"/>					</form>   </span></div><!-- end import/export--></br>  </div> <!-- END - div id="ayo-general" --></div> <!-- END - div class="skewed-bg" --><br><br><br> <!--start rss--><div class="display-rss-feed-table">    <div class="ayo-admin-rss-title">News and Updates from your friend Ayo</div><?php $xml=simplexml_load_file("https://adminyo.com/blog/category/inside-all-admins/feed/"); foreach ($xml->channel->item as $item) {     $title = (string) $item->title; // Title Post     $link   = (string) $item->link; // Url Link     $description = (string) $item->description; //Description Post echo '<div class="display-rss-feed"><a href="'.$link.'" target="_blank" title="" >'.$title.' </a><br/><br/>'; echo $description.'<hr></div>';  }?></div> <!--end rss--> <!-- start of popup--> <script>jQuery(document).ready(function($){ $('.pro_only').click(function(){    $('#overlay, #popup').css('display', 'block');});$('.close_pro').click(function(){$('#overlay, #popup').fadeOut("slow");});$('#overlay').click(function(){    $('#overlay, #popup').fadeOut("slow");  //  console.log('close overlay');});}) </script> <div id="overlay" ></div><div id="popup" >  <a href="https://codecanyon.net/item/adminyo-intelligent-wordpress-admin/14784440?ref=vagabondLabs" target="_blank">    <img src="<?php echo AdminYo_dirURL . '/img/getpro.jpg';?>" alt="" style="width:100%; border:0;">  </a> <!-- end of popup--></div> <!-- END - div class="top-bg" --><?phpglobal $ayo_options; if ($ayo_options['search_float'] == true && $ayo_options['search_toggle'] == true ) {update_option( 'ayo_settings[search_float]', false );  }};/*Import and export functionality*//** register_setting('ayo_settings_group','ayo_settings'); * Process a settings export that generates a .json file of the shop settings */function ayo_process_settings_export() {	if( empty( $_POST['ayo_action'] ) || 'export_settings' != $_POST['ayo_action'] )		return;	if( ! wp_verify_nonce( $_POST['ayo_export_nonce'], 'ayo_export_nonce' ) )		return;	if( ! current_user_can( 'manage_options' ) )		return;	$settings = get_option( 'ayo_settings' );	ignore_user_abort( true );	nocache_headers();	header( 'Content-Type: application/json; charset=utf-8' );	header( 'Content-Disposition: attachment; filename=adminyo-export-settings-' . date( 'm-d-Y' ) . '.json' );	header( "Expires: 0" );	echo json_encode( $settings );	exit;}add_action( 'admin_init', 'ayo_process_settings_export' );/** * Process a settings import from a json file */function ayo_process_settings_import() {	if( empty( $_POST['ayo_action'] ) || 'import_settings' != $_POST['ayo_action'] )		return;	if( ! wp_verify_nonce( $_POST['ayo_import_nonce'], 'ayo_import_nonce' ) )		return;	if( ! current_user_can( 'manage_options' ) )		return;	$extension = end( explode( '.', $_FILES['import_file']['name'] ) );  $validate = wp_check_filetype_and_ext( $file, $filename );if( $validate['json'] !== false ){    	if( $extension != 'json' ) {		wp_die( __( 'Please upload a valid .json file' ) );	}	$import_file = $_FILES['import_file']['tmp_name'];	if( empty( $import_file ) ) {		wp_die( __( 'Please upload a file to import' ) );	}};	// Retrieve the settings from the file and convert the json object to an array.	$settings = (array) json_decode( file_get_contents( $import_file ) );	update_option( 'ayo_settings', $settings );	wp_safe_redirect( admin_url( 'options-general.php?page=adminyo-lite/lib/ayo_admin.php' ) ); exit;}add_action( 'admin_init', 'ayo_process_settings_import' );//END of file